# 网络协议簇

在许多情况下，协议必须能够与其他协议配合使用，以便让在线体验为您提供网络通信所需的一切。协议簇旨在相互无缝协作。

执行某种通信功能所需的一组内在相关协议称为协议簇。

要形象地表现协议簇中的协议如何互动，最佳方法之一就是将这种互动看成一个堆栈。协议栈展示了协议簇中的单个协议是如何实施的。协议显示为分层结构，每种上层服务都依赖于其余下层协议所定义的功能。协议栈的下层负责通过网络传输数据和向上层提供服务，而上层则负责处理发送的消息内容。

如图所示，我们可以使用分层结构来描述面对面通信中出现的活动。底层是物理层，有两个人用声音大声说出词语。中间是规则层，规定了通信的要求，包括必须选择一种通用语言。顶部是内容层，这是实际说出通信内容的地方。

![](pic/2.png)

# TCP/IP 协议示例

TCP/IP协议可用于应用层、传输层和互联网层。网络接入层中没有 TCP/IP 协议。最常见的网络接入层LAN协议是以太网和WLAN(无线LAN)协议。网络接入层协议负责通过物理介质传输 IP 数据包。

图中显示了用于在主机的web浏览器和web服务器之间发送数据包的三种TCP/IP协议的示例。HTTP、TCP 和 IP 是所使用的 TCP/IP 协议。在网络接入层，示例中使用了以太网。然而，这里也可以使用一种无线标准，如WLAN或蜂窝服务。

![](pic/3.png)

该图显示了用于在主机的web浏览器和web服务器之间发送数据包的TCP/IP协议。网络拓扑显示了一个连接到互联网云的主机和一个连接到Web服务器的主机。所显示的表示数据包的信封在互联网和服务器之间正在流动。从数据包辐射出的是每一层使用的协议的信息。自上而下是:应用层和超文本传输协议(HTTP);传输层和传输控制协议(TCP);互联网层和互联网协议(IP);以及网络接口层和以太网。

# TCP/IP 协议簇

如今，TCP/IP 协议簇包含许多协议，并且不断发展以支持新服务。图中显示一些较为常用的协议。

![](pic/4.png)

该图显示 TCP/IP 层和相关的协议。在应用层：DNS是名称系统协议;DHCPv4、DHCPv6和SLAAC是主机配置协议;SMTP、POP3和IMAP是电子邮件协议;FTP、SFTP和TFTP是文件传输协议;HTTP、HTTPS和REST是web和web服务协议。在传输层:TCP是面向连接的协议，UDP是无连接的协议。在互联网层:IPv4、IPv6和NAT是互联网协议;ICMPv4、ICMPv6和ICMPv6 ND是消息传递协议;OSPF、EIGRP和BGP是路由协议。在网络接口层：ARP 是一种地址解析协议；以太网和 WLAN 是数据链路协议。底部的文本显示：TCP/IP 是当今互联网和网络使用的协议簇。TCP/IP对于供应商和制造商来说有两个重要的方面：开放标准协议簇-这意味着它对公众是免费的，任何供应商都可以在他们的硬件或软件中使用它。基于标准的协议簇-这意味着它已经受到网络行业认可并已获得标准组织的批准。这确保了来自不同制造商的产品能够成功地互操作。

## 应用层

域名系统

- **DNS** - 域名系统。将域名（例如 cisco.com）转换为 IP 地址。

主机配置

- **DHCPv4** - IPv4动态主机配置协议。DHCPv4 服务器在启动时动态地将 IPv4 编址信息分配给 DHCPv4 客户端，并允许在不再需要时重新使用这些地址。
- **DHCPv6** - IPv6动态主机配置协议。DHCPv6类似于DHCPv4。DHCPv6服务器在启动时动态地将IPv6编址信息分配给DHCPv6客户端。
- **SLAAC** - 无状态地址自动配置。一种允许设备在不使用DHCPv6服务器的情况下获得其IPv6编址信息的方法。

邮件

- **SMTP** - 简单邮件传输协议。使客户端能够将邮件发送到邮件服务器，并使服务器能够将邮件发送到其他服务器。
- **POP3** - 邮局协议第 3 版。使客户端能够从邮件服务器检索电子邮件并将电子邮件下载到客户端本地邮件应用程序。
- **IMAP** - 互联网消息访问协议。使客户端能够访问存储在邮件服务器上的电子邮件，并在服务器上维护电子邮件。

文件传输

- **FTP** - 文件传输协议。它设置规则，使得一台主机上的用户能够通过网络访问另一台主机或向其传输文件。FTP是一种可靠、面向连接且进行确认的文件传输协议。
- **SFTP** - SSH文件传输协议。作为安全外壳 (SSH)协议的扩展，SFTP可用于建立安全的文件传输会话，在该会话中对文件传输进行加密。SSH 是一种安全远程登录的方法，通常用于访问设备的命令行。
- **TFTP** - 简单文件传输协议。这是一个简单的，无连接的文件传输协议，使用尽最大努力、无需确认的文件传输方式。它使用的开销比FTP少。

Web和Web服务

- **HTTP** - 超文本传输协议。这是有关在万维网上交换文本、图形图像、音频、视频以及其他多媒体文件的一组规则集。
- **HTTPS** - 安全 HTTP。这是一种安全的HTTP形式，它对在万维网上交换的数据进行加密。
- **REST** - 具象状态传输协议。它使用应用程序编程接口 (API) 和 HTTP 请求创建 Web 应用程序的 Web 服务。

## 传输层

面向连接

- **TCP** - 传输控制协议。它使运行在不同主机上的进程之间能够进行可靠的通信，并提供可靠的、需要确认的传输，以确保传输成功。

无连接

- **UDP** - 用户数据报协议。它允许一台主机上运行的进程向另一台主机上运行的进程发送数据包。但是，UDP不会确认数据报传输是否成功。

## 互联网层

Internet 协议

- **IPv4** - 互联网协议第 4 版。它接收来自传输层的消息段，将消息打包成数据包，并为通过网络进行端到端传递的数据包进行地址分配。IPv4 使用 32 位地址。
- **IPv6** - 互联网协议第 6 版。与 IPv4 类似，但使用 128 位地址。
- **NAT** - 网络地址转换。将私有网络 IPv4 地址转换为全球唯一的公有 IPv4 地址。

消息传送

- **ICMPv4** - IPv4 互联网控制消息协议。目的主机针对数据包传输中出现的错误，向源主机提供反馈。
- **ICMPv6** - 用于 IPv6 的ICMP。与 ICMPv4 类似的功能，但用于 IPv6 数据包。
- **ICMPv6 ND** - IPv6 邻居发现。包括用于地址解析和重复地址检测的四个协议消息。

路由协议

- **OSPF** - 开放最短路径优先协议。它使用基于区域的分层设计的链路状态路由协议。OSPF是一种开放式标准内部路由协议。
- **EIGRP** — 增强型内部网关路由协议这是一种思科开发的开放标准路由协议，使用基于带宽、延迟、负载和可靠性的复合度量。
- **BGP** - 边界网关协议。这是一种开放标准的外部网关路由协议，用于互联网服务提供商(ISP)之间。BGP 还通常用于 ISP 与其大型私有客户端之间来交换路由信息。

## **网络接入层**

地址解析

- **ARP** - 地址解析协议。提供 IPv4 地址与硬件地址之间的动态地址映射。

**注意**：您可能会看到其他文档状态，表明 ARP 在互联网层（OSI 第 3 层）运行。但是，在本课程中，我们声明 ARP 在网络接入层（OSI 第 2 层）运行，因为它的主要目的是发现目标的 MAC 地址。MAC 地址是第 2 层地址。

数据链路协议

- **以太网** - 为网络接入层的布线和信令标准定义规则。
- **WLAN** - 无线局域网。定义 2.4 GHz 和 5 GHz 无线电频率的无线信号规则。